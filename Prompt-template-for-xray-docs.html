<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Мастер-промпт (без Bootstrap)</title>
    <style>
        /* Базовые стили */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f8f9fa;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            margin: auto;
        }

        /* Стили для карточки */
        .card {
            background-color: #fff;
            border: 1px solid #dee2e6;
            border-radius: 0.5rem;
            box-shadow: 0 0.125rem 0.25rem rgba(0,0,0,.075);
            margin-bottom: 1.5rem;
        }
        .card-header {
            padding: 0.75rem 1.25rem;
            background-color: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
            display: flex;
            position: sticky;
            top: 0;
            z-index: 1020;
        }
        .card-body {
            padding: 1.25rem;
        }

        /* Стили для вкладок */
        .tabs {
            list-style: none;
            padding-left: 0;
            margin-bottom: -1px;
            display: flex;
            flex-wrap: wrap; 
        }
        .tab-button {
            padding: 0.5rem 1rem;
            border: 1px solid transparent;
            border-bottom: none;
            cursor: pointer;
            background-color: transparent;
            font-size: 1rem;
            color: #495057;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .tab-button.active {
            color: #fff;
            background-color: #0d6efd;
            border-color: #0d6efd;
            border-radius: 0.25rem 0.25rem 0 0;
        }
        .tab-button.active .tab-icon {
            fill: #fff;
        }
        .tab-pane {
            display: none;
        }
        .tab-pane.active.show {
            display: block;
        }
        
        /* Стили для иконок вкладок */
        .tab-icon {
            width: 1.2em;
            height: 1.2em;
            display: inline-block;
            fill: #495057;
        }
        
        /* Стили для контента внутри вкладок */
        .pane-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        .pane-title {
            margin: 0;
            font-size: 1.25rem;
        }
        pre {
            background-color: #e9ecef;
            padding: 1.5rem;
            border-radius: 0.5rem;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-size: 0.9rem;
            color: #212529;
        }

        /* Стили для кнопок */
        .btn {
            display: inline-block;
            font-weight: 400;
            line-height: 1.5;
            text-align: center;
            text-decoration: none;
            vertical-align: middle;
            cursor: pointer;
            user-select: none;
            border: 1px solid transparent;
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
            border-radius: 0.25rem;
            transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;
        }
        .btn-primary {
            color: #fff;
            background-color: #0d6efd;
            border-color: #0d6efd;
        }
        .btn-success {
            color: #fff;
            background-color: #198754;
            border-color: #198754;
        }
        .me-2 {
            margin-right: 0.5rem;
        }

        /* Media Query для мобильных устройств */
        @media (max-width: 600px) {
            .tab-text-detail {
                display: none; /* Скрываем поясняющий текст */
            }
            .tab-text {
                /* ИЗМЕНЕНИЕ: Используем универсальное свойство для сжатия шрифта */
                font-stretch: condensed;
            }
            .tab-button {
                padding-left: 0.2rem;
                padding-right: 0.2rem;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <div class="card">
        <div class="card-header">
            <ul class="tabs" id="promptTabs">
                <li>
                    <button class="tab-button active" data-target="#text-pane">
                        <svg class="tab-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                          <path d="M5 4.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"/>
                          <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z"/>
                        </svg>
                        <span class="tab-text">Промпт<span class="tab-text-detail"> (Текст)</span></span>
                    </button>
                </li>
                <li>
                    <button class="tab-button" data-target="#json-pane">
                        <svg class="tab-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                          <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z"/>
                          <path d="M8.646 6.646a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L10.293 9 8.646 7.354a.5.5 0 0 1 0-.708zm-1.292 0a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0 0 .708l2 2a.5.5 0 0 0 .708-.708L5.707 9l1.647-1.646a.5.5 0 0 0 0-.708z"/>
                        </svg>
                        <span class="tab-text">Промпт<span class="tab-text-detail"> (JSON)</span></span>
                    </button>
                </li>
                <li>
                    <button class="tab-button" data-target="#template-pane">
                        <svg class="tab-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                          <path d="M5 4.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"/>
                          <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z"/>
                        </svg>
                        <span class="tab-text">Шаблон<span class="tab-text-detail"> (Текст)</span></span>
                    </button>
                </li>
                <li>
                    <button class="tab-button" data-target="#template-json-pane">
                        <svg class="tab-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                          <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z"/>
                          <path d="M8.646 6.646a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L10.293 9 8.646 7.354a.5.5 0 0 1 0-.708zm-1.292 0a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0 0 .708l2 2a.5.5 0 0 0 .708-.708L5.707 9l1.647-1.646a.5.5 0 0 0 0-.708z"/>
                        </svg>
                        <span class="tab-text">Шаблон<span class="tab-text-detail"> (JSON)</span></span>
                    </button>
                </li>
            </ul>
        </div>
        <div class="card-body">
            <div class="tab-content" id="promptTabsContent">
                <!-- Text Pane -->
                <div class="tab-pane active show" id="text-pane">
                    <div class="pane-header">
                        <h5 class="pane-title">Мастер-промпт (Текст)</h5>
                        <button class="btn btn-primary" onclick="copyContent(this, 'textPrompt')">Копировать</button>
                    </div>
                    <pre><code id="textPrompt">**Роль:** Ты — опытный full-stack разработчик, специализирующийся на front-end (HTML, CSS, Bootstrap) и back-end скриптах (bash). Твоя задача — создать техническую документацию в формате интерактивной HTML-страницы.

**Основная цель:** Создать единый (single-file) HTML-документ для руководства по установке и управлению прокси-сервером Xray с помощью предоставленного bash-скрипта. Документ должен быть современным, адаптивным и максимально функциональным для пользователя.

---

### **Ключевые требования к HTML-документу:**

1.  **Формат:** Единый HTML-файл. Весь CSS и JavaScript должны быть либо встроены, либо подключены через CDN (предпочтительно для Bootstrap).
2.  **Фреймворк:** Используй **Bootstrap 5** для стилизации и адаптивности. Все компоненты (навигация, карточки, кнопки) должны быть стандартными компонентами Bootstrap.
3.  **Адаптивность:** Страница должна корректно отображаться на десктопах и мобильных устройствах. На узких экранах навигационная панель должна сворачиваться в "бургер-меню".
4.  **Структура и навигация (Single Page Application):** Документ должен функционировать как одностраничное приложение (SPA). При клике на ссылку в навигационной панели (`navbar`) должен отображаться *только* соответствующий раздел контента. Все остальные разделы должны быть скрыты. Для реализации этого поведения используй компонент Bootstrap 5 "Navs & Tabs" (Навигация и вкладки). Навигационная панель будет служить переключателем, а каждый основной раздел контента — отдельной "вкладкой" (`tab-pane`).

---

### **Содержание и структура HTML-страницы (&lt;body&gt;):**

**Весь контент, описанный ниже в разделах, должен быть организован как содержимое для вкладок (компонент `tab-content` из Bootstrap). Каждый пронумерованный "Раздел" будет представлять собой отдельный `&lt;div&gt;` с классом `tab-pane`.**

**Раздел 1: Панель конфигурации (Плейсхолдеры)**
* **Задача:** Создай в самом верху страницы заметный блок (например, Bootstrap `alert` или `card`).
* **Название:** "Панель быстрой конфигурации".
* **Содержимое:** Внутри этого блока должны быть представлены ключевые переменные из скрипта, которые пользователь может захотеть изменить. Для каждой переменной предоставь готовый к копированию фрагмент кода для вставки в основной скрипт.
* **Пример реализации:**
    * **Порт сервера:** `PORT=443`
    * **Целевой домен для REALITY:** `DEST_DOMAIN="github.com:443"`
    * **Имена серверов для REALITY:** `SERVER_NAMES="github.com", "www.github.com"`

**Раздел 2: Установка (Исходный скрипт)**
* **Задача:** Размести полный и **немодифицированный** исходный bash-скрипт.
* **Оформление:** Используй блок `&lt;pre&gt;&lt;code&gt;...&lt;/code&gt;&lt;/pre&gt;` для корректного отображения кода с подсветкой синтаксиса (если возможно) и кнопкой "Копировать".
* **Описание:** Под блоком с кодом дай краткое описание того, что делает скрипт на каждом этапе (обновление пакетов, установка Xray, генерация ключей, создание конфига и т.д.).

**Раздел 3: Управление сервером**
* **Задача:** Опиши команды управления, которые создает скрипт.
* **Содержимое:** Создай список или таблицу с командами (`mainuser`, `newuser`, `rmuser`, `sharelink`, `userlist`) и кратким, понятным описанием того, что делает каждая команда.

**Раздел 4: Модернизация скрипта (Сценарии маршрутизации)**
* **Это самый важный раздел. Выполни его максимально точно.**
* **Задача:** Предоставь готовые к использованию фрагменты JSON-кода для блока `"routing"` в файле `/usr/local/etc/xray/config.json` для трёх разных сценариев. **Не давай объяснений вместо кода, предоставь именно готовый код.**

* **Сценарий 1: По умолчанию (Блокировка рекламы и IP из РФ)**
    * **Описание:** Стандартная конфигурация из исходного скрипта. Трафик на рекламные домены и российские IP-адреса блокируется.
    * **Код:** Предоставь полный и готовый к копированию блок `"routing"` из оригинального скрипта.

* **Сценарий 2: Прямое соединение для сайтов из РФ**
    * **Описание:** Трафик на рекламные домены блокируется, трафик на российские IP-адреса идёт напрямую (минуя прокси), остальной трафик идёт через прокси.
    * **Код:** Предоставь полный и готовый к копированию блок `"routing"`, который реализует эту логику. Он должен содержать правило для `"geoip:ru"` с `"outboundTag": "direct"`.

* **Сценарий 3: Прокси только для Google и YouTube**
    * **Описание:** Блокируется реклама. Трафик на домены Google и YouTube (включая все поддомены) идёт через прокси. **Весь остальной трафик** (кроме рекламы) направляется напрямую.
    * **Код:** Предоставь полный и готовый к копированию блок `"routing"`, который использует `"geosite:google"`, `"geosite:youtube"`, `"geosite:category-ads-all"` и правило по умолчанию для прямого соединения.

---

### **Итоговая проверка:**

* Убедись, что весь запрошенный контент присутствует.
* Проверь, что HTML-структура логична и использует семантические теги.
* Убедись, что предоставленные JSON-фрагменты для сценариев модернизации синтаксически корректны и полностью готовы к вставке в файл конфигурации Xray.</code></pre>
                </div>
                <!-- JSON Pane -->
                <div class="tab-pane" id="json-pane">
                     <div class="pane-header">
                        <h5 class="pane-title">Мастер-промпт (JSON)</h5>
                        <div>
                            <button class="btn btn-primary me-2" onclick="copyContent(this, 'jsonPrompt')">Копировать</button>
                            <button class="btn btn-success" onclick="exportJson('promptJson', 'ai_prompt.json')">Экспорт</button>
                        </div>
                    </div>
                    <pre><code id="jsonPrompt"></code></pre>
                </div>
                <!-- Template Pane -->
                <div class="tab-pane" id="template-pane">
                     <div class="pane-header">
                        <h5 class="pane-title">Шаблон (Текст)</h5>
                        <button class="btn btn-primary" onclick="copyContent(this, 'templatePrompt')">Копировать</button>
                    </div>
                    <pre><code id="templatePrompt">### **Концепция и стиль оформления документа (Финальная версия)**

Этот документ представляет собой автономный, адаптивный HTML-шаблон для создания интерактивных одностраничных руководств.

**1. Общая концепция:**
- **Формат:** Единый HTML-файл (Single-file).
- **Технология:** Чистый HTML и CSS. Весь код является самодостаточным.
- **Поведение:** Одностраничное приложение (SPA), где контент отображается во вкладках. Логика переключения реализована на чистом JavaScript.

**2. Структура HTML:**
- **Основной контейнер:** `&lt;div class="container"&gt;` для центрирования.
- **Главный блок:** `&lt;div class="card"&gt;` для визуального объединения контента.
- **Навигация:** Меню `&lt;ul class="tabs"&gt;` с кнопками `&lt;button class="tab-button"&gt;`.
- **Структура кнопки:** Каждая кнопка содержит иконку `&lt;svg&gt;` и основной текст `&lt;span class="tab-text"&gt;`. Уточнения `(Текст)`/`(JSON)` обернуты во вложенный `&lt;span class="tab-text-detail"&gt;` для адаптивного скрытия.

**3. Стилизация (CSS):**
- **"Липкое" меню:** Заголовок с вкладками (`.card-header`) зафиксирован вверху экрана при прокрутке.
- **Активная вкладка:** Выделяется синим цветом для лучшей наглядности.
- **Адаптивность (CSS Media Query):**
    - **Компактные вкладки:** На экранах до 600px скрываются уточнения "(Текст)" и "(JSON)".
    - **Узкий шрифт:** На мобильных устройствах применяется шрифт "Arial Narrow" для экономии места.
    - **Компактные отступы:** Уменьшены боковые отступы у кнопок-вкладок на мобильных.

**4. Функциональность (JavaScript):**
- **Расположение:** Весь JS-код находится в теге `&lt;script&gt;` в конце документа.
- **Переключение вкладок:** Реализовано с помощью слушателя событий `DOMContentLoaded`.
- **Копирование:** Функция `copyContent()` использует `document.execCommand('copy')`.
- **Экспорт:** Функция `exportJson()` генерирует и скачивает файл `.json`.</code></pre>
                </div>
                <!-- Template JSON Pane -->
                <div class="tab-pane" id="template-json-pane">
                     <div class="pane-header">
                        <h5 class="pane-title">Шаблон (JSON)</h5>
                        <div>
                            <button class="btn btn-primary me-2" onclick="copyContent(this, 'templateJsonPrompt')">Копировать</button>
                            <button class="btn btn-success" onclick="exportJson('templateJson', 'template.json')">Экспорт</button>
                        </div>
                    </div>
                    <pre><code id="templateJsonPrompt"></code></pre>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // --- Функции вынесены в начало скрипта для надежности ---

    // Функция копирования
    function copyContent(button, elementId) {
        const content = document.getElementById(elementId).textContent;
        const tempTextArea = document.createElement('textarea');
        tempTextArea.value = content;
        document.body.appendChild(tempTextArea);
        tempTextArea.select();
        
        try {
            document.execCommand('copy');
            const originalText = button.textContent;
            button.textContent = 'Скопировано!';
            button.disabled = true;
            setTimeout(() => {
                button.textContent = originalText;
                button.disabled = false;
            }, 2000);
        } catch (err) {
            console.error('Не удалось скопировать текст: ', err);
        }

        document.body.removeChild(tempTextArea);
    }

    // Экспорт JSON
    function exportJson(jsonObjectName, fileName) {
        const jsonString = JSON.stringify(window[jsonObjectName], null, 2);
        const blob = new Blob([jsonString], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = fileName;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    }

    // JSON-данные для Промпта
    const promptJson = {
      "role": "Ты — опытный full-stack разработчик, специализирующийся на front-end (HTML, CSS, Bootstrap) и back-end скриптах (bash). Твоя задача — создать техническую документацию в формате интерактивной HTML-страницы.",
      "mainGoal": "Создать единый (single-file) HTML-документ для руководства по установке и управлению прокси-сервером Xray с помощью предоставленного bash-скрипта. Документ должен быть современным, адаптивным и максимально функциональным для пользователя.",
      "keyRequirements": [
        {
          "title": "Формат",
          "description": "Единый HTML-файл. Весь CSS и JavaScript должны быть либо встроены, либо подключены через CDN (предпочтительно для Bootstrap)."
        },
        {
          "title": "Фреймворк",
          "description": "Используй Bootstrap 5 для стилизации и адаптивности. Все компоненты (навигация, карточки, кнопки) должны быть стандартными компонентами Bootstrap."
        },
        {
          "title": "Адаптивность",
          "description": "Страница должна корректно отображаться на десктопах и мобильных устройствах. На узких экранах навигационная панель должна сворачиваться в 'бургер-меню'."
        },
        {
          "title": "Структура и навигация (Single Page Application)",
          "description": "Документ должен функционировать как одностраничное приложение (SPA). При клике на ссылку в навигационной панели (`navbar`) должен отображаться *только* соответствующий раздел контента. Все остальные разделы должны быть скрыты. Для реализации этого поведения используй компонент Bootstrap 5 'Navs & Tabs' (Навигация и вкладки). Навигационная панель будет служить переключателем, а каждый основной раздел контента — отдельной 'вкладкой' (`tab-pane`)."
        }
      ],
      "contentStructure": {
        "introduction": "Весь контент, описанный ниже в разделах, должен быть организован как содержимое для вкладок (компонент `tab-content` из Bootstrap). Каждый пронумерованный 'Раздел' будет представлять собой отдельный `<div>` с классом `tab-pane`.",
        "sections": [
          {
            "title": "Раздел 1: Панель конфигурации (Плейсхолдеры)",
            "content": [
              "Задача: Создай в самом верху страницы заметный блок (например, Bootstrap `alert` или `card`).",
              "Название: 'Панель быстрой конфигурации'.",
              "Содержимое: Внутри этого блока должны быть представлены ключевые переменные из скрипта, которые пользователь может захотеть изменить. Для каждой переменной предоставь готовый к копированию фрагмент кода для вставки в основной скрипт.",
              "Пример реализации: Порт сервера: `PORT=443`, Целевой домен для REALITY: `DEST_DOMAIN='github.com:443'`, Имена серверов для REALITY: `SERVER_NAMES='github.com', 'www.github.com'`"
            ]
          },
          {
            "title": "Раздел 2: Установка (Исходный скрипт)",
            "content": [
              "Задача: Размести полный и немодифицированный исходный bash-скрипт.",
              "Оформление: Используй блок `<pre><code>...</code></pre>` для корректного отображения кода с подсветкой синтаксиса (если возможно) и кнопкой 'Копировать'.",
              "Описание: Под блоком с кодом дай краткое описание того, что делает скрипт на каждом этапе (обновление пакетов, установка Xray, генерация ключей, создание конфига и т.д.)."
            ]
          },
          {
            "title": "Раздел 3: Управление сервером",
            "content": [
              "Задача: Опиши команды управления, которые создает скрипт.",
              "Содержимое: Создай список или таблицу с командами (`mainuser`, `newuser`, `rmuser`, `sharelink`, `userlist`) и кратким, понятным описанием того, что делает каждая команда."
            ]
          },
          {
            "title": "Раздел 4: Модернизация скрипта (Сценарии маршрутизации)",
            "importantNote": "Это самый важный раздел. Выполни его максимально точно.",
            "task": "Предоставь готовые к использованию фрагменты JSON-кода для блока `routing` в файле `/usr/local/etc/xray/config.json` для трёх разных сценариев. Не давай объяснений вместо кода, предоставь именно готовый код.",
            "scenarios": [
              {
                "name": "Сценарий 1: По умолчанию (Блокировка рекламы и IP из РФ)",
                "description": "Стандартная конфигурация из исходного скрипта. Трафик на рекламные домены и российские IP-адреса блокируется.",
                "code": "Предоставь полный и готовый к копированию блок `routing` из оригинального скрипта."
              },
              {
                "name": "Сценарий 2: Прямое соединение для сайтов из РФ",
                "description": "Трафик на рекламные домены блокируется, трафик на российские IP-адреса идёт напрямую (минуя прокси), остальной трафик идёт через прокси.",
                "code": "Предоставь полный и готовый к копированию блок `routing`, который реализует эту логику. Он должен содержать правило для `geoip:ru` с `outboundTag`: `direct`."
              },
              {
                "name": "Сценарий 3: Прокси только для Google и YouTube",
                "description": "Блокируется реклама. Трафик на домены Google и YouTube (включая все поддомены) идёт через прокси. Весь остальной трафик (кроме рекламы) направляется напрямую.",
                "code": "Предоставь полный и готовый к копированию блок `routing`, который использует `geosite:google`, `geosite:youtube`, `geosite:category-ads-all` и правило по умолчанию для прямого соединения."
              }
            ]
          }
        ]
      },
      "finalCheck": [
        "Убедись, что весь запрошенный контент присутствует.",
        "Проверь, что HTML-структура логична и использует семантические теги.",
        "Убедись, что предоставленные JSON-фрагменты для сценариев модернизации синтаксически корректны и полностью готовы к вставке в файл конфигурации Xray."
      ]
    };

    // ОБЪЕКТ ДЛЯ ЧЕТВЕРТОЙ ВКЛАДКИ
    const templateJson = {
      "title": "Концепция и стиль оформления документа (Финальная версия)",
      "summary": "Этот документ представляет собой автономный, адаптивный HTML-шаблон для создания интерактивных одностраничных руководств.",
      "sections": {
        "concept": {
          "title": "Общая концепция",
          "points": {
            "format": "Единый HTML-файл (Single-file).",
            "technology": "Чистый HTML и CSS. Весь код является самодостаточным.",
            "behavior": "Одностраничное приложение (SPA) с логикой переключения вкладок на чистом JavaScript."
          }
        },
        "htmlStructure": {
          "title": "Структура HTML",
          "points": {
            "mainContainer": "<div class=\"container\"> для центрирования.",
            "mainBlock": "<div class=\"card\"> для визуального объединения контента.",
            "navigation": "Меню <ul class=\"tabs\"> с кнопками <button class=\"tab-button\">.",
            "buttonStructure": "Каждая кнопка содержит иконку <svg> и текст <span class='tab-text'> с вложенным <span class='tab-text-detail'> для адаптивного скрытия."
          }
        },
        "cssStyling": {
          "title": "Стилизация (CSS)",
          "points": {
            "stickyMenu": "Заголовок с вкладками (.card-header) зафиксирован вверху экрана при прокрутке.",
            "activeTab": "Активная вкладка выделяется синим цветом.",
            "responsiveAdaptation": {
              "title": "Адаптивность (CSS Media Query при max-width: 600px)",
              "rules": [
                "Скрытие уточнений '(Текст)' и '(JSON)'.",
                "Применение узкого шрифта 'Arial Narrow' для экономии места.",
                "Уменьшение боковых отступов у кнопок-вкладок."
              ]
            }
          }
        },
        "javascriptFunctionality": {
          "title": "Функциональность (JavaScript)",
          "points": {
            "location": "Весь JS-код находится в теге <script> в конце документа.",
            "tabSwitching": "Реализовано с помощью слушателя событий `DOMContentLoaded`.",
            "copying": "Функция `copyContent()` использует `document.execCommand('copy')`.",
            "exporting": "Функция `exportJson()` генерирует и скачивает файл `.json`."
          }
        }
      }
    };

    document.addEventListener('DOMContentLoaded', () => {
        // Логика для вкладок
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabPanes = document.querySelectorAll('.tab-pane');

        tabButtons.forEach(button => {
            button.addEventListener('click', (event) => {
                // Деактивируем все
                tabButtons.forEach(btn => btn.classList.remove('active'));
                tabPanes.forEach(pane => {
                    pane.classList.remove('active', 'show');
                });

                // Активируем нужные
                const clickedButton = event.currentTarget;
                clickedButton.classList.add('active');
                const targetPaneId = clickedButton.getAttribute('data-target');
                const targetPane = document.querySelector(targetPaneId);
                if (targetPane) {
                    targetPane.classList.add('active', 'show');
                }
            });
        });

        // Автозаполнение JSON
        document.getElementById('jsonPrompt').textContent = JSON.stringify(promptJson, null, 2);
        document.getElementById('templateJsonPrompt').textContent = JSON.stringify(templateJson, null, 2);
    });

</script>

</body>
</html>

